{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","likeCounter","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","type","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","style","backgroundImage","map","length","Footer","PopupWithForm","props","id","isOpen","children","title","onClose","saveName","onSubmit","autoComplete","ImagePopup","element","EditProfilePopup","onUpdateUser","isDataLoad","useState","profileName","setProfileName","profileDescription","setDescription","useEffect","idForm","e","preventDefault","value","onChange","target","required","minLength","maxLength","placeholder","api","data","this","_baseUrl","serverUrl","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_requestResult","method","body","JSON","stringify","trim","cardId","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","placeName","setPlaceName","placeLink","setPlaceLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isCardDelete","setIsCardDelete","setIsDataLoad","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","initialCards","Provider","deleteCard","newCards","filter","newCard","changeLike","c","newUserData","editProfile","finally","newAvatar","editAvatar","sendCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a8904c9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Logo\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card({ card, likeCounter, onCardClick, onCardDelete, onCardLike }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `elements__delete ${isOwn ? 'elements__delete_visible' : 'elements__delete_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `element__like ${isLiked ? 'element__like_active' : ''}`\n  );;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  return (\n\n    <article className=\"element\">\n      <img className=\"element__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__text\">{card.name}</h2>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}>\n          </button>\n          <span className=\"element__like-counter\">{likeCounter}</span>\n        </div>\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          onClick={handleDeleteClick}>\n        </button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardDelete, onCardLike, cards }) {\n\n  const { name, about, avatar } = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile content__profile\">\n        <div className=\"profile__data\">\n\n          <div style={{ backgroundImage: `url(${avatar})` }} className=\"profile__avatar\"></div>\n          <button type=\"button\" className=\"profile__avatar-batton\" aria-label=\"Загрузить новый аватар\"\n            onClick={onEditAvatar}>\n          </button>\n\n          <div className=\"profile__info\">\n            <div className=\"profile__block\">\n              <h1 className=\"profile__name\">{name}</h1>\n              <button type=\"button\" className=\"profile__edit\" aria-label=\"редактировать профиль\"\n                onClick={onEditProfile}>\n              </button>\n            </div>\n            <p className=\"profile__text\">{about}</p>\n          </div>\n\n        </div>\n\n        <button type=\"button\" className=\"profile__addfoto-button\" aria-label=\"добавить фото\"\n          onClick={onAddPlace}>\n        </button>\n      </section>\n\n      <section className=\"elements content__elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardDelete={onCardDelete}\n            likeCounter={card.likes.length}\n            onCardLike={onCardLike}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&#169; 2021 Mesto / Gagaev Denis</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\nconst { id, isOpen, name, children, title, onClose, saveName, onSubmit } = props;\r\n\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`} id={id}>\r\n      <div className=\"popup__container\">\r\n        <button aria-label=\"закрыть попап\" className=\"popup__close\" onClick={onClose}></button>\r\n        <h2 className=\"popup__header\">{title}</h2>\r\n        <form className=\"popup__form\" name={name} autoComplete=\"off\" onSubmit={onSubmit}>\r\n          <fieldset className=\"popup__set\">\r\n            {children}\r\n            <button type=\"submit\" className=\"popup__button\">{saveName}</button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n      <div className=\"popup__overlay\" onClick={onClose}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__image\">\r\n        <img className=\"popup__photo\" src={`${props.card.element.link}`} alt={props.card.element.name} />\r\n        <p className=\"popup__image-subtitle\">{props.card.element.name}</p>\r\n        <button type=\"button\" aria-label=\"закрыть попап\" className=\"popup__close\" onClick={props.onClose}></button>\r\n      </div>\r\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isDataLoad }) {\r\n  const [profileName, setProfileName] = React.useState('');\r\n  const [profileDescription, setDescription] = React.useState('');\r\n\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(e) {\r\n    setProfileName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name: profileName,\r\n      about: profileDescription,\r\n    });\r\n  }\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setProfileName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      name=\"popup__form\"\r\n      idForm=\"popup__form-profile\"\r\n      id=\"popup__Profile\"\r\n      title=\"Редактировать профиль\"\r\n      onSubmit={handleSubmit}\r\n      saveName={isDataLoad ? \"Сохраняем...\" : \"Сохранить\"}\r\n    >\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={profileName || ''} onChange={handleChangeName}\r\n          className=\"popup__input\"\r\n          type=\"text\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          id=\"popup__name-input\"\r\n          name=\"name\"\r\n          placeholder=\"Ваше имя\"\r\n        />\r\n        <span id=\"popup__name-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={profileDescription || ''} onChange={handleChangeDescription}\r\n          className=\"popup__input\"\r\n          type=\"text\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          id=\"popup__text-input\"\r\n          name=\"about\"\r\n          placeholder=\"О Вас\"\r\n        />\r\n        <span id=\"popup__text-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","class Api {\n  constructor(data) {\n    this._baseUrl = data.serverUrl;\n    this._token = data.token;\n  }\n  // проверка статуса\n  _requestResult(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(\n        `Хьюстон, у нас проблемы: Ошибка ${res.status} ${res.statusText}`\n      );\n    }\n  }\n  // Запрос данных пользователя\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) =>\n      this._requestResult(res)\n    );\n  }\n  // Отправка данных пользователя\n  editProfile(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name.trim(),\n        about: data.about.trim()\n      }),\n    }).then((res) => this._requestResult(res));\n  }\n  // Запрос карточек\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._requestResult(res));\n  }\n  // отправка данных Аватара\n  editAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: data,\n      }),\n    }).then((res) => this._requestResult(res));\n  }\n  // отправка на сервер новой карточки\n  sendCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => this._requestResult(res));\n  }\n  // Запрос на удаление карточки\n  deleteCard(data) {\n    return fetch(`${this._baseUrl}cards/${data}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._requestResult(res));\n  }\n  //Добавить\\удалить лайк\n  changeLike(cardId, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n      method: !isLiked ? \"PUT\" : \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._requestResult(res));\n  }\n}\n\nconst api = new Api({\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-27/\",\n  token: \"8747a9a0-014b-48d6-8e47-516b00c90197\"\n});\n\nexport default api;\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isDataLoad }) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar(\r\n      avatarRef.current.value,\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"popup__form\"\r\n      id=\"popap__avatar\"\r\n      title=\"Обновить аватар\"\r\n      saveName={isDataLoad ? 'Сохраняем...' : 'Сохранить'}\r\n    >\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          ref={avatarRef}\r\n          name=\"avatar\"\r\n          className=\"popup__input\"\r\n          id=\"popup__avatarLink-input\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          type=\"url\"\r\n        />\r\n        <span id=\"popup__avatarLink-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, isDataLoad }) {\r\n\r\n    const [placeName, setPlaceName] = React.useState('');\r\n    const [placeLink, setPlaceLink] = React.useState('');\r\n\r\n\r\n    function handleChangePlaceName(e) {\r\n        setPlaceName(e.target.value);\r\n    }\r\n\r\n    function handleChangePlaceLink(e) {\r\n        setPlaceLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //* Передаём значения управляемых компонентов во внешний обработчик\r\n        onAddCard({\r\n            name: placeName,\r\n            link: placeLink,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setPlaceName('');\r\n        setPlaceLink('');\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"popup__form\"\r\n            id=\"popup__card\"\r\n            title=\"Новое место\"\r\n            saveName={isDataLoad ? 'Сохранение...' : 'Создать'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={placeName} onChange={handleChangePlaceName}\r\n                    name=\"photoText\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__photoText-input\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"30\"\r\n                    placeholder=\"Название карточки\"\r\n                    type=\"text\"\r\n                />\r\n                <span id=\"popup__photoText-input-error\" className=\"popup__input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={placeLink} onChange={handleChangePlaceLink}\r\n                    name=\"photoLink\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__photoLink-input\"\r\n                    required\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    type=\"url\"\r\n                />\r\n                <span id=\"popup__photoLink-input-error\" className=\"popup__input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from \"../utils/api\";\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false, element: {} });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isCardDelete, setIsCardDelete] = React.useState(false);\n  const [isDataLoad, setIsDataLoad] = React.useState(false);\n\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(res => { setCurrentUser(res); })\n      .catch(err => { console.log(err); })\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => { console.log(err) });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(newCard => newCard._id !== card._id)\n      //* Обновляем стейт\n      setCards(newCards);\n    })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ ...selectedCard, isOpen: true, element: card });\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setIsCardDelete(false)\n    setSelectedCard({ ...selectedCard, isOpen: false });\n    setIsDataLoad(false)\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLike(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(newUserData) {\n    setIsDataLoad(true);\n    api.editProfile(newUserData)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch(err => { console.log(err) })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsDataLoad(true);\n    api.editAvatar(newAvatar)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch(err => { console.log(err) })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsDataLoad(true);\n    api.sendCard(newCard).then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups()\n    })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n          cards={cards}\n        />\n        <Footer />\n\n        <EditProfilePopup isDataLoad={isDataLoad} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup isDataLoad={isDataLoad} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup isDataLoad={isDataLoad} onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <PopupWithForm\n          onClose={closeAllPopups}\n          isOpen={isCardDelete}\n          name=\"popup__form\"\n          id=\"popap__deleteCard\"\n          title=\"Вы уверены?\"\n          saveName=\"Да\">\n        </PopupWithForm>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}